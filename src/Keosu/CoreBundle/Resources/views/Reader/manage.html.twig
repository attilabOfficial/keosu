{#
Keosu is an open source CMS for mobile app
Copyright (C) 2014  Vincent Le Borgne, Pockeit

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
#}
{% extends 'KeosuCoreBundle:MainViews:content.html.twig' %}

{% block title %}{% trans %}Add a new reader{% endtrans %}{% endblock %}

{% block content %}
	<div class="row">
		<div class="col-md-4 table-actions-column">
			{{ form_start(form) }}
			<strong>{% trans %}Reader Type{% endtrans %}</strong>
			<br/>
			<br/>
			<div>
				{{ form_widget(form.readertype) }}
				{{ form_rest(form) }}
			</div>
			<br/>
			<br/>
			<br/>
			<input type="submit" class="btn btn-success" value="{% trans %}Add a reader{% endtrans %}" ></input>
			<a class="confirmModal" href="javascript:history.go(-1);" >
				<button type="button" class="btn btn-danger">{% trans %}Cancel{% endtrans %}</button>
			</a>
			</form>
		</div>
		<div class="col-md-8">
			<fieldset>
				<legend>Readers</legend>
				<table class="table table-striped table-hover">
					<thead>
					<tr>
						<th>{% trans %}Reader name{% endtrans %}</th>
						<th></th>
						<th></th>
						<th></th>
					</tr>
					</thead>
					<tbody>
					{% for content in contents %}
						<tr>
							<td>{{ content.name }}</td>
							<td>
								<a href="{{ path('keosu_ReaderManager_'~content.service~'_sync',{'id':content.id}) }}"><i class="glyphicon glyphicon-refresh" title="Sync"></i></a>
							</td>
							<td>
								<a href="{{ path('keosu_ReaderManager_' ~ content.service ~ '_edit',{'id':content.id}) }}"><i class="glyphicon glyphicon-edit" title="Edit"></i></a>
							</td>
							<td>
								<a href="{{ path('keosu_ReaderManager_edit_delete',{'id':content.id}) }}"><i class="glyphicon glyphicon-remove" title="Delete"></i></a>
							</td>
						</tr>
					{% else %}
						<p>{% trans %}No content{% endtrans %}</p>
					{% endfor %}
					</tbody>
					<tfoot>
					<tr>
						<th>{% trans %}Reader name{% endtrans %}</th>
						<th></th>
						<th></th>
						<th></th>
					</tr>
					</tfoot>
				</table>
			</fieldset>
		</div>
	</div>
{% endblock %}
